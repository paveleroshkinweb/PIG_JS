!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n={__keys__:["currentPlayer","score-0","score-1","current-0","current-1","dice-1","dice-2"],__defaultValues__:{currentPlayer:0,"score-0":0,"score-1":0,"current-0":0,"current-1":0,"dice-1":6,"dice-2":6},clear(){this.__keys__.forEach(e=>this.setItem(e,this.__defaultValues__[e]))},getItem(e){const t=sessionStorage.getItem(e);return"isFamiliarWithRules"===e||"winner"===e?o(t):isNaN(Number(t))?t:Number(t)},setItem(e,t){sessionStorage.setItem(e,t)},setInitialData(){this.setItem("isFamiliarWithRules",this.getItem("isFamiliarWithRules")),this.setItem("dice-1",this.getItem("dice-1")||this.__defaultValues__["dice-1"]),this.setItem("dice-2",this.getItem("dice-2")||this.__defaultValues__["dice-2"])},getDataStorage(){return this.__keys__.reduce((e,t)=>Object.assign(e,{[t]:this.getItem(t)}),{})}};const o=e=>null!=e&&JSON.parse(e);var c=e=>{const t=Object.keys(e);document.querySelector(`.player-${e[t[0]]}-panel`).classList.add("active"),t.slice(1).forEach(t=>{const r=document.getElementById(t);"DIV"===r.nodeName?r.textContent=e[t]:"IMG"===r.nodeName?r.src=`./img/dice-${e[t]}.png`:r.value=e[t]})};const i=e=>{const t=document.createElement("div");t.classList.add("modal");const r=document.createElement("div");r.innerHTML=e,t.appendChild(r),document.body.appendChild(t)},s=()=>{i('<div class="modal-content fadeIn">\n                <div class="exit">X</div>\n                <div class="modal-title">Are you already familiar with rules of this game?</div>\n                <br>\n                    <div class="modal-text">\n                        This game is played by 2 players. Each player in turn presses the roll. The sum of the cubes falls into your current account. If you drop 1 at least on one of the cubes, your current account is reset to zero. You can click hold and then the current account will be added to the total and then reset to zero and the move will go to another player. The winner is the one who quickly scores 100 points. GOOD LUCK!\n                    </div>\n                </div>\n             </div>'),document.querySelector(".exit").addEventListener("click",()=>{n.setItem("isFamiliarWithRules",!0);const e=document.querySelector(".modal-content");e.classList.replace("fadeIn","fadeOut"),e.addEventListener("animationend",()=>{document.querySelector(".modal").remove()})})},a=()=>{new Audio("./sound/win.mp3").play(),i(`<div class="winner">\n            <div class="winner-text">We have a winner - player ${n.getItem("currentPlayer")+1}</div>\n            <img src="./img/winner.gif">\n        </div>`)},l=()=>{const e=+!n.getItem("currentPlayer");document.querySelector(".active").classList.remove("active"),document.querySelector(`.player-${e}-panel`).classList.add("active"),n.setItem("currentPlayer",e)},u=()=>{document.querySelector(".player-1-panel").classList.remove("active"),n.clear();const e=n.getDataStorage();c(e)},d=()=>{setTimeout(()=>{n.setItem("winner",!1),document.querySelector(".modal").remove(),u()},5e3)},m=()=>Math.floor(6*Math.random())+1,y=()=>{(()=>{const e=n.getItem("currentPlayer"),t=n.getItem(`current-${e}`)+n.getItem(`score-${e}`);document.querySelector(`#current-${e}`).textContent=0,document.querySelector(`#score-${e}`).textContent=t,n.setItem(`current-${e}`,0),n.setItem(`score-${e}`,t),t>=100&&(n.setItem("winner",!0),a(),d())})(),l()};n.setInitialData();const g=n.getDataStorage();c(g),n.getItem("isFamiliarWithRules",!0)||setTimeout(s,500),document.querySelector(".control-buttons").addEventListener("click",e=>{const{target:t}=e;t.classList.contains("btn-new")?u():t.classList.contains("btn-roll")?(()=>{new Audio("./sound/roll.mp3").play();const e=m(),t=m();setTimeout(()=>{document.querySelector("#dice-1").src=`./img/dice-${e}.png`,document.querySelector("#dice-2").src=`./img/dice-${t}.png`;const r="current-"+n.getItem("currentPlayer");let o=0;1===e||1===t?l():o=n.getItem(r)+e+t,document.querySelector("#"+r).textContent=o,n.setItem(r,o),n.setItem("dice-1",e),n.setItem("dice-2",t)},370)})():y()}),n.getItem("winner")&&(a(),d())}]);